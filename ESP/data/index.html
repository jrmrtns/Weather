<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Weather</title> <link rel="icon" type="image/png" href="data:undefined;base64,"> <style>html, body{ position:relative;width:100%;height:100%;}body{ background-color:#1e2933;color:#ddd;margin:0;padding:8px;box-sizing:border-box;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;}a{ color:rgb(0,100,200);text-decoration:none;}a:hover{ text-decoration:underline;}a:visited{ color:rgb(0,80,160);}label{ display:block;}input, button, select, textarea{ font-family:inherit;font-size:inherit;-webkit-padding:0.4em 0;padding:0.4em;margin:0 0 0.5em 0;box-sizing:border-box;border:1px solid #ccc;border-radius:2px;}input:disabled{ color:#ccc;}button{ color:#333;background-color:#f4f4f4;outline:none;}button:disabled{ color:#999;}button:not(:disabled):active{ background-color:#ddd;}button:focus{ border-color:#666;}</style> <style>main.svelte-4bwup1{display:flex;flex-wrap:wrap;justify-content:center;text-align:center;padding:1em;margin:0 auto;background-color:#1e2933;color:#b9cddf;padding:0;margin:0}h1{color:#ff3e00;text-transform:uppercase;font-size:4em;font-weight:100}.gauge-container > .gauge > .dial{stroke:#334455;stroke-width:2}.gauge-container > .gauge > .value{stroke:orange;stroke-dasharray:none;stroke-width:6}@media(min-width:640px){main.svelte-4bwup1{max-width:none}}.gauge-container.svelte-4bwup1{justify-content:center;max-width:90vw;width:450px;height:450px;padding:10px}.gauge-container.svelte-4bwup1{height:auto}.slidecontainer.svelte-4bwup1{width:100%}.slider.svelte-4bwup1{-webkit-appearance:none;width:100%;height:15px;border-radius:5px;background:#334455;outline:none;border:0;opacity:0.7;-webkit-transition:0.2s;transition:opacity 0.2s}.slider.svelte-4bwup1:hover{opacity:1}.slider.svelte-4bwup1::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:orange;cursor:pointer}.slider.svelte-4bwup1::-moz-range-thumb{width:25px;height:25px;border-radius:50%;background:orange;cursor:pointer}</style> </head> <body> </body> <script>var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function u(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function s(){return c(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function d(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t,n){t.value=null==n?"":n}let v;function m(t){v=t}function g(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}const h=[],b=[],y=[],w=[],$=Promise.resolve();let x=!1;function A(t){y.push(t)}let j=!1;const C=new Set;function _(){if(!j){j=!0;do{for(let t=0;t<h.length;t+=1){const n=h[t];m(n),k(n.$$)}for(m(null),h.length=0;b.length;)b.pop()();for(let t=0;t<y.length;t+=1){const n=y[t];C.has(n)||(C.add(n),n())}y.length=0}while(h.length);for(;w.length;)w.pop()();x=!1,j=!1,C.clear()}}function k(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const S=new Set;function E(t,n){-1===t.$$.dirty[0]&&(h.push(t),x||(x=!0,$.then(_)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function M(i,a,l,c,s,f,d=[-1]){const p=v;m(i);const g=a.props||{},h=i.$$={fragment:null,ctx:null,props:f,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:e(),dirty:d,skip_bound:!1};let b=!1;if(h.ctx=l?l(i,g,((t,n,...e)=>{const o=e.length?e[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),b&&E(i,t)),n})):[],h.update(),b=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();a.intro&&((y=i.$$.fragment)&&y.i&&(S.delete(y),y.i(w))),function(t,e,i){const{fragment:a,on_mount:u,on_destroy:l,after_update:c}=t.$$;a&&a.m(e,i),A((()=>{const e=u.map(n).filter(r);l?l.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(A)}(i,a.target,a.anchor),_()}var y,w;m(p)}var O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var T,N,V=(function(t){!function(n,e){var o=function(t,n){var e=t.document,o=Array.prototype.slice,r=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)};function i(t){var n=t.duration,e=1,o=60*n,i=t.start||0,a=t.end-i,u=t.step,l=t.easing||function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)};function c(){var t=e/o,n=a*l(t)+i;u(n,e),e+=1,t<1&&r(c)}r(c)}return function(){var t="http://www.w3.org/2000/svg",n={centerX:50,centerY:50},r={dialRadius:40,dialStartAngle:135,dialEndAngle:45,value:0,max:100,min:0,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",showValue:!0,gaugeColor:null,label:function(t){return Math.round(t)}};function a(){var t=arguments[0];return o.call(arguments,1).forEach((function(n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})),t}function u(n,o,r){var i=e.createElementNS(t,n);for(var a in o)i.setAttribute(a,o[a]);return r&&r.forEach((function(t){i.appendChild(t)})),i}function l(t,n){return t*n/100}function c(t,n,e){var o=Number(t);return o>e?e:o<n?n:o}function s(t,n,e){return 100*(t-n)/(e-n)}function f(t,n,e,o){var r=o*Math.PI/180;return{x:Math.round(1e3*(t+e*Math.cos(r)))/1e3,y:Math.round(1e3*(n+e*Math.sin(r)))/1e3}}function d(t,e,o){var r=n.centerX,i=n.centerY;return{end:f(r,i,t,o),start:f(r,i,t,e)}}return function(t,n){var e,o,f,p=t,v=(n=a({},r,n)).max,m=n.min,g=c(n.value,m,v),h=n.dialRadius,b=n.showValue,y=n.dialStartAngle,w=n.dialEndAngle,$=n.valueDialClass,x=n.valueClass,A=(n.valueLabelClass,n.dialClass),j=n.gaugeClass,C=n.color,_=n.label,k=n.viewBox;if(y<w){console.log("WARN! startAngle < endAngle, Swapping");var S=y;y=w,w=S}function E(t,n,e,o){var r=d(t,n,e),i=r.start,a=r.end,u=void 0===o?1:o;return["M",i.x,i.y,"A",t,t,0,u,1,a.x,a.y].join(" ")}function M(t){e=u("text",{x:50,y:50,fill:"#999",class:x,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}),o=u("path",{class:$,fill:"none",stroke:"#666","stroke-width":2.5,d:E(h,y,y)});var n=l(100,360-Math.abs(y-w)),r=u("svg",{viewBox:k||"0 0 100 100",class:j},[u("path",{class:A,fill:"none",stroke:"#eee","stroke-width":2,d:E(h,y,w,n<=180?0:1)}),e,o]);t.appendChild(r)}function O(t,r){var i=l(s(t,m,v),360-Math.abs(y-w)),a=i<=180?0:1;b&&(e.textContent=_.call(n,t)),o.setAttribute("d",E(h,y,i+y,a))}function T(t,n){var e=C(t),r="stroke "+1e3*n+"ms ease";o.style=["stroke: "+e,"-webkit-transition: "+r,"-moz-transition: "+r,"transition: "+r].join(";")}return f={setMaxValue:function(t){v=t},setValue:function(t){g=c(t,m,v),C&&T(g,0),O(g)},setValueAnimated:function(t,n){var e=g;e!==(g=c(t,m,v))&&(C&&T(g,n),i({start:e||0,end:g,duration:n||1,step:function(t,n){O(t)}}))},getValue:function(){return g}},M(p),f.setValue(g),f}}()}(n);t.exports?t.exports=o:n.Gauge=o}("undefined"==typeof window?O:window)}(N={path:T,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&N.path)}},N.exports),N.exports);var q=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},F="object"==typeof O&&O&&O.Object===Object&&O,R="object"==typeof self&&self&&self.Object===Object&&self,W=F||R||Function("return this")(),z=function(){return W.Date.now()},D=W.Symbol,P=Object.prototype,B=P.hasOwnProperty,L=P.toString,I=D?D.toStringTag:void 0;var J=function(t){var n=B.call(t,I),e=t[I];try{t[I]=void 0;var o=!0}catch(t){}var r=L.call(t);return o&&(n?t[I]=e:delete t[I]),r},X=Object.prototype.toString;var Y=function(t){return X.call(t)},G=D?D.toStringTag:void 0;var U=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":G&&G in Object(t)?J(t):Y(t)};var Z=function(t){return null!=t&&"object"==typeof t};var H=function(t){return"symbol"==typeof t||Z(t)&&"[object Symbol]"==U(t)},K=/^\s+|\s+$/g,Q=/^[-+]0x[0-9a-f]+$/i,tt=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,et=parseInt;var ot=function(t){if("number"==typeof t)return t;if(H(t))return NaN;if(q(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=q(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(K,"");var e=tt.test(t);return e||nt.test(t)?et(t.slice(2),e?2:8):Q.test(t)?NaN:+t},rt=Math.max,it=Math.min;var at=function(t,n,e){var o,r,i,a,u,l,c=0,s=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(n){var e=o,i=r;return o=r=void 0,c=n,a=t.apply(i,e)}function v(t){return c=t,u=setTimeout(g,n),s?p(t):a}function m(t){var e=t-l;return void 0===l||e>=n||e<0||f&&t-c>=i}function g(){var t=z();if(m(t))return h(t);u=setTimeout(g,function(t){var e=n-(t-l);return f?it(e,i-(t-c)):e}(t))}function h(t){return u=void 0,d&&o?p(t):(o=r=void 0,a)}function b(){var t=z(),e=m(t);if(o=arguments,r=this,l=t,e){if(void 0===u)return v(l);if(f)return clearTimeout(u),u=setTimeout(g,n),p(l)}return void 0===u&&(u=setTimeout(g,n)),a}return n=ot(n)||0,q(e)&&(s=!!e.leading,i=(f="maxWait"in e)?rt(ot(e.maxWait)||0,n):i,d="trailing"in e?!!e.trailing:d),b.cancel=function(){void 0!==u&&clearTimeout(u),c=0,o=l=r=u=void 0},b.flush=function(){return void 0===u?a:h(z())},b};function ut(n){let e,r,i,v,m,g,h,b,y,w,$,x,A;return{c(){e=l("main"),r=l("div"),i=l("div"),v=s(),m=l("div"),g=l("input"),h=s(),b=l("p"),y=c("Ziel: "),w=c(n[1]),$=c("°C"),d(i,"id","cpuSpeed"),d(i,"class","gauge-container svelte-4bwup1"),d(g,"type","range"),d(g,"min","20"),d(g,"max","50"),d(g,"class","slider svelte-4bwup1"),d(g,"id","myRange"),d(m,"class","slidecontainer svelte-4bwup1"),d(e,"class","svelte-4bwup1")},m(t,o){!function(t,n,e){t.insertBefore(n,e||null)}(t,e,o),a(e,r),a(r,i),n[3](i),a(r,v),a(r,m),a(m,g),p(g,n[1]),a(m,h),a(m,b),a(b,y),a(b,w),a(b,$),x||(A=[f(g,"change",n[4]),f(g,"input",n[4]),f(g,"change",n[2])],x=!0)},p(t,[n]){2&n&&p(g,t[1]),2&n&&function(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}(w,t[1])},i:t,o:t,d(t){t&&u(e),n[3](null),x=!1,o(A)}}}function lt(t,n,e){let o,r,i=`ws://${window.location.hostname}/ws`,a=28;const u={min:0,max:50,dialStartAngle:135,dialEndAngle:45,value:0,label:t=>(Math.round(10*t)/10).toFixed(1)+" °C",color:t=>t<24?"#ef4655":t<27?"#f7aa38":t<33?"#5ee432":t<38?"#f7aa38":"#ef4655"};g((()=>{e(0,o=V(o,u)),c()}));const l=at((t=>{let n={target:t.target.value};r.send(JSON.stringify(n))}),500),c=()=>{console.log("Trying to open a WebSocket connection..."),r=new WebSocket(i),r.onopen=s,r.onclose=f,r.onmessage=d},s=t=>{console.log("Connection opened"+t)},f=t=>{console.log("Connection closed"+t),setTimeout(c,5e3)},d=t=>{const n=JSON.parse(t.data);o.setValueAnimated(n.temperature,1),e(1,a=n.target)};return[o,a,l,function(t){b[t?"unshift":"push"]((()=>{o=t,e(0,o)}))},function(){var t;t=this.value,a=""===t?null:+t,e(1,a)}]}return new class extends class{$destroy(){!function(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),M(this,t,lt,ut,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map</script> </html>
